<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Painel de Seguidores</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="min-h-screen bg-gray-100 p-6">
  <div class="max-w-6xl mx-auto">
    <header class="flex items-center justify-between mb-6">
      <h1 class="text-2xl font-bold bg-gradient-to-r from-purple-600 to-pink-500 bg-clip-text text-transparent">Painel Instagram</h1>
      <div class="flex gap-2 items-center">
        <a href="novo-pedido.html" target="_blank" class="px-3 py-1 rounded bg-green-500 text-white font-semibold hover:bg-green-600 transition">Novo Pedido (Tudo Grátis)</a>
        <div id="adminArea"></div>
      </div>
    </header>
    <div class="mb-4">
      <nav class="flex gap-2">
        <button id="tabSeguidores" class="tab-btn px-4 py-2 rounded bg-purple-600 text-white">Seguidores</button>
        <button id="tabViews" class="tab-btn px-4 py-2 rounded bg-gray-200 text-gray-700">Views</button>
        <button id="tabCurtidas" class="tab-btn px-4 py-2 rounded bg-gray-200 text-gray-700">Curtidas</button>
      </nav>
    </div>
    <div id="msg" class="mb-4 text-sm text-gray-700"></div>
    <div id="adminPanel" class="bg-white shadow p-4 rounded mb-6 hidden">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-3 mb-3">
        <input id="novoUsuario" placeholder="@usuario" class="border rounded px-2 py-1">
        <input id="novoNome" placeholder="Nome" class="border rounded px-2 py-1">
        <label class="flex items-center gap-2">
          <input type="checkbox" id="novoSegue"> Segue de volta
        </label>
      </div>
      <button id="btnAdicionar" class="px-3 py-1 bg-purple-600 text-white rounded">Adicionar</button>
    </div>
    <div id="painelSeguidores">
      <div class="bg-white shadow rounded p-4 mb-6">
        <h2 class="text-lg font-bold mb-2">Adicionar Seguidores</h2>
        <input id="seguidorUsuario" placeholder="@seuInstagram" class="border rounded px-2 py-1 mb-2 w-full">
        <input id="seguidorQtd" type="number" min="1" placeholder="Quantidade de seguidores" class="border rounded px-2 py-1 mb-2 w-full">
        <button id="btnAddSeguidor" class="px-3 py-1 bg-purple-600 text-white rounded">Adicionar Seguidores</button>
        <div id="listaSeguidoresSimulados" class="mt-4 text-sm text-gray-700"></div>
        <div class="text-xs text-gray-400 mt-2">Simulação: seguidores não são adicionados de verdade ao Instagram.</div>
      </div>
      <div class="bg-white shadow rounded p-4">
        <input id="busca" placeholder="Pesquisar" class="border px-2 py-1 rounded mb-3 w-full">
        <table class="w-full text-sm">
          <thead>
            <tr class="text-left text-gray-600 border-b">
              <th class="py-2">Usuário</th>
              <th>Nome</th>
              <th>Segue de volta</th>
              <th>Adicionado</th>
              <th id="thAcoes"></th>
            </tr>
          </thead>
          <tbody id="tabelaSeguidores"></tbody>
        </table>
      </div>
    </div>
    <div id="painelViews" style="display:none">
      <div class="bg-white shadow rounded p-4">
        <h2 class="text-lg font-bold mb-2">Adicionar Views</h2>
        <input id="viewUsuario" placeholder="@usuario ou link do vídeo" class="border rounded px-2 py-1 mb-2 w-full">
        <input id="viewQtd" type="number" min="1" placeholder="Quantidade de views" class="border rounded px-2 py-1 mb-2 w-full">
        <button id="btnAddView" class="px-3 py-1 bg-blue-600 text-white rounded">Adicionar Views</button>
        <div id="listaViews" class="mt-4 text-sm text-gray-700"></div>
      </div>
    </div>
    <div id="painelCurtidas" style="display:none">
      <div class="bg-white shadow rounded p-4">
        <h2 class="text-lg font-bold mb-2">Adicionar Curtidas</h2>
        <input id="curtidaUsuario" placeholder="@usuario ou link da publicação" class="border rounded px-2 py-1 mb-2 w-full">
        <input id="curtidaQtd" type="number" min="1" placeholder="Quantidade de curtidas" class="border rounded px-2 py-1 mb-2 w-full">
        <button id="btnAddCurtida" class="px-3 py-1 bg-pink-600 text-white rounded">Adicionar Curtidas</button>
        <div id="listaCurtidas" class="mt-4 text-sm text-gray-700"></div>
      </div>
    </div>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
      let admin = false;
      let senhaSalva = localStorage.getItem('senha_admin') || 'admin';
      let seguidores = JSON.parse(localStorage.getItem('seguidores') || '[]');
      let views = JSON.parse(localStorage.getItem('views') || '[]');
      let curtidas = JSON.parse(localStorage.getItem('curtidas') || '[]');
  let busca = '';
  let seguidoresSimulados = JSON.parse(localStorage.getItem('seguidoresSimulados') || '[]');
      // Seguidores simulados
      function renderSeguidoresSimulados() {
        let html = '';
        if (!seguidoresSimulados.length) html = '<div class="text-gray-400">Nenhuma simulação de seguidores</div>';
        else html = '<ul>' + seguidoresSimulados.map(s => `<li>${s.usuario} - ${s.qtd} seguidores <button onclick="removerSeguidorSimulado(${s.id})" class="ml-2 text-red-500">remover</button></li>`).join('') + '</ul>';
        document.getElementById('listaSeguidoresSimulados').innerHTML = html;
      }
      window.removerSeguidorSimulado = function(id) {
        seguidoresSimulados = seguidoresSimulados.filter(s => s.id !== id);
        salvar();
        renderSeguidoresSimulados();
      };
      document.getElementById('btnAddSeguidor').onclick = function() {
        const usuario = document.getElementById('seguidorUsuario').value.trim();
        const qtd = parseInt(document.getElementById('seguidorQtd').value);
        if (!usuario || !qtd) return showMsg('Preencha todos os campos de seguidores');
        seguidoresSimulados.unshift({ usuario, qtd, id: Date.now() });
        document.getElementById('seguidorUsuario').value = '';
        document.getElementById('seguidorQtd').value = '';
        showMsg('Simulação de seguidores adicionada!');
        salvar();
        renderSeguidoresSimulados();
      };
      const adminArea = document.getElementById('adminArea');
      const adminPanel = document.getElementById('adminPanel');
      const tabelaSeguidores = document.getElementById('tabelaSeguidores');
      const msg = document.getElementById('msg');
      const thAcoes = document.getElementById('thAcoes');
      const painelSeguidores = document.getElementById('painelSeguidores');
      const painelViews = document.getElementById('painelViews');
      const painelCurtidas = document.getElementById('painelCurtidas');
      // Abas
      document.getElementById('tabSeguidores').onclick = function() {
        painelSeguidores.style.display = '';
        painelViews.style.display = 'none';
        painelCurtidas.style.display = 'none';
        this.className = 'tab-btn px-4 py-2 rounded bg-purple-600 text-white';
        document.getElementById('tabViews').className = 'tab-btn px-4 py-2 rounded bg-gray-200 text-gray-700';
        document.getElementById('tabCurtidas').className = 'tab-btn px-4 py-2 rounded bg-gray-200 text-gray-700';
      };
      document.getElementById('tabViews').onclick = function() {
        painelSeguidores.style.display = 'none';
        painelViews.style.display = '';
        painelCurtidas.style.display = 'none';
        this.className = 'tab-btn px-4 py-2 rounded bg-blue-600 text-white';
        document.getElementById('tabSeguidores').className = 'tab-btn px-4 py-2 rounded bg-gray-200 text-gray-700';
        document.getElementById('tabCurtidas').className = 'tab-btn px-4 py-2 rounded bg-gray-200 text-gray-700';
      };
      document.getElementById('tabCurtidas').onclick = function() {
        painelSeguidores.style.display = 'none';
        painelViews.style.display = 'none';
        painelCurtidas.style.display = '';
        this.className = 'tab-btn px-4 py-2 rounded bg-pink-600 text-white';
        document.getElementById('tabSeguidores').className = 'tab-btn px-4 py-2 rounded bg-gray-200 text-gray-700';
        document.getElementById('tabViews').className = 'tab-btn px-4 py-2 rounded bg-gray-200 text-gray-700';
      };

      function renderAdminArea() {
      // Views
      function renderViews() {
        let html = '';
        if (!views.length) html = '<div class="text-gray-400">Nenhuma view adicionada</div>';
        else html = '<ul>' + views.map(v => `<li>${v.usuario} - ${v.qtd} views <button onclick="removerView(${v.id})" class="ml-2 text-red-500">remover</button></li>`).join('') + '</ul>';
        document.getElementById('listaViews').innerHTML = html;
      }
      window.removerView = function(id) {
        views = views.filter(v => v.id !== id);
        salvar();
        renderViews();
      };
      document.getElementById('btnAddView').onclick = function() {
        const usuario = document.getElementById('viewUsuario').value.trim();
        const qtd = parseInt(document.getElementById('viewQtd').value);
        if (!usuario || !qtd) return showMsg('Preencha todos os campos de views');
        views.unshift({ usuario, qtd, id: Date.now() });
        document.getElementById('viewUsuario').value = '';
        document.getElementById('viewQtd').value = '';
        showMsg('Views adicionadas!');
        salvar();
        renderViews();
      };

      // Curtidas
      function renderCurtidas() {
        let html = '';
        if (!curtidas.length) html = '<div class="text-gray-400">Nenhuma curtida adicionada</div>';
        else html = '<ul>' + curtidas.map(c => `<li>${c.usuario} - ${c.qtd} curtidas <button onclick="removerCurtida(${c.id})" class="ml-2 text-red-500">remover</button></li>`).join('') + '</ul>';
        document.getElementById('listaCurtidas').innerHTML = html;
      }
      window.removerCurtida = function(id) {
        curtidas = curtidas.filter(c => c.id !== id);
        salvar();
        renderCurtidas();
      };
      document.getElementById('btnAddCurtida').onclick = function() {
        const usuario = document.getElementById('curtidaUsuario').value.trim();
        const qtd = parseInt(document.getElementById('curtidaQtd').value);
        if (!usuario || !qtd) return showMsg('Preencha todos os campos de curtidas');
        curtidas.unshift({ usuario, qtd, id: Date.now() });
        document.getElementById('curtidaUsuario').value = '';
        document.getElementById('curtidaQtd').value = '';
        showMsg('Curtidas adicionadas!');
        salvar();
        renderCurtidas();
      };
        adminArea.innerHTML = '';
        if (admin) {
          const btnSair = document.createElement('button');
          btnSair.textContent = 'Sair';
          btnSair.className = 'px-3 py-1 rounded bg-red-500 text-white';
          btnSair.onclick = () => { admin = false; renderAll(); };
          const btnSenha = document.createElement('button');
          btnSenha.textContent = 'Trocar Senha';
          btnSenha.className = 'px-3 py-1 rounded bg-blue-600 text-white';
          btnSenha.onclick = () => {
            const nova = prompt('Nova senha:');
            if (nova) {
              senhaSalva = nova;
              localStorage.setItem('senha_admin', nova);
              showMsg('Senha alterada');
            }
          };
          adminArea.appendChild(btnSair);
          adminArea.appendChild(btnSenha);
        } else {
          const form = document.createElement('form');
          form.className = 'flex gap-2';
          form.onsubmit = (e) => {
            e.preventDefault();
            const senha = form.querySelector('input').value;
            if (senha === senhaSalva) {
              admin = true;
              showMsg('');
              renderAll();
            } else {
              showMsg('Senha incorreta');
            }
          };
          const input = document.createElement('input');
          input.placeholder = 'Senha admin';
          input.className = 'border rounded px-2';
          input.type = 'password';
          form.appendChild(input);
          const btn = document.createElement('button');
          btn.textContent = 'Entrar';
          btn.className = 'px-3 py-1 rounded bg-green-600 text-white';
          form.appendChild(btn);
          adminArea.appendChild(form);
        }
      }

      function showMsg(m) {
        msg.textContent = m || '';
      }

      function renderAdminPanel() {
        adminPanel.style.display = admin ? '' : 'none';
        thAcoes.textContent = admin ? '' : '';
      }

      function renderTabela() {
        let filtrados = seguidores.filter(s =>
          s.usuario.toLowerCase().includes(busca.toLowerCase()) ||
          s.nome.toLowerCase().includes(busca.toLowerCase())
        );
        tabelaSeguidores.innerHTML = '';
        if (!filtrados.length) {
          tabelaSeguidores.innerHTML = `<tr><td colspan="5" class="text-center py-4 text-gray-400">Nenhum encontrado</td></tr>`;
          return;
        }
        filtrados.forEach(s => {
          const tr = document.createElement('tr');
          tr.className = 'border-b';
          tr.innerHTML = `
            <td class="py-2">${s.usuario}</td>
            <td>${s.nome}</td>
            <td>${s.segueDeVolta ? 'Sim' : 'Não'}</td>
            <td>${new Date(s.criado).toLocaleString()}</td>
            ${admin ? `<td class="text-right"><button class='px-2 py-1 bg-red-500 text-white rounded' onclick='removerSeguidor(${s.id})'>Remover</button></td>` : '<td></td>'}
          `;
          tabelaSeguidores.appendChild(tr);
        });
      }

      function renderAll() {
        renderAdminArea();
        renderAdminPanel();
        renderTabela();
      }

      window.removerSeguidor = function(id) {
        if (!confirm('Remover?')) return;
        seguidores = seguidores.filter(s => s.id !== id);
        salvar();
        renderAll();
      };

      document.getElementById('btnAdicionar').onclick = function() {
        const usuario = document.getElementById('novoUsuario').value.trim();
        const nome = document.getElementById('novoNome').value.trim();
        const segue = document.getElementById('novoSegue').checked;
        if (!usuario) return showMsg('Digite o usuário');
        if (seguidores.find(s => s.usuario.toLowerCase() === usuario.toLowerCase())) return showMsg('Já existe');
        seguidores.unshift({ usuario, nome, segueDeVolta: segue, id: Date.now(), criado: new Date().toISOString() });
        document.getElementById('novoUsuario').value = '';
        document.getElementById('novoNome').value = '';
        document.getElementById('novoSegue').checked = false;
        showMsg('Adicionado!');
        salvar();
        renderAll();
      };

      document.getElementById('busca').oninput = function(e) {
        busca = e.target.value;
        renderTabela();
      };

      function salvar() {
        localStorage.setItem('seguidores', JSON.stringify(seguidores));
        localStorage.setItem('views', JSON.stringify(views));
        localStorage.setItem('curtidas', JSON.stringify(curtidas));
        localStorage.setItem('seguidoresSimulados', JSON.stringify(seguidoresSimulados));
      }

      renderAll();
      renderViews();
      renderCurtidas();
      renderSeguidoresSimulados();
    });
  </script>
</body>
</html>
