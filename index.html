<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Padaria D Longhi - Card√°pio Digital</title>
  <style>
  body { font-family: 'Segoe UI', Arial, sans-serif; margin: 0; background: linear-gradient(120deg, #fbeee6 0%, #f9f9f9 100%); }
  header { background: #d2691e; color: #fff; padding: 30px 0 20px 0; text-align: center; box-shadow: 0 2px 8px #d2691e33; }
  h1 { font-size: 2.5em; margin: 0; letter-spacing: 2px; }
  .subtitle { font-size: 1.2em; color: #fffbe6; margin-top: 10px; }
  .container { max-width: 500px; margin: 30px auto; padding: 0 20px; }
  .card { border: 1px solid #e0c3a0; padding: 20px; margin: 20px 0; border-radius: 12px; background: #fff; box-shadow: 0 2px 8px #e0c3a033; }
  label { font-weight: bold; margin-top: 10px; display: block; }
  select, .recheio-checkbox { margin: 5px 0 15px 0; padding: 6px; border-radius: 5px; border: 1px solid #d2691e44; }
  .recheio-checkbox { margin-right: 10px; }
  button { background: #d2691e; color: #fff; border: none; padding: 12px 20px; margin-top: 10px; cursor: pointer; border-radius: 7px; font-size: 1em; transition: background 0.2s; }
  button:hover { background: #a0522d; }
  ul { padding-left: 20px; }
  </style>
</head>
<body>
  <header>
    <h1>Padaria D Longhi</h1>
    <div class="subtitle">üçû Card√°pio Digital</div>
    <div style="margin-top:15px;">
      <a href="https://www.instagram.com/padariadlonghi/" target="_blank" style="color:#fffbe6; text-decoration:underline; font-size:1.1em;">Siga nosso Instagram</a>
    </div>
  </header>
  <div id="frontpage" style="display:flex; flex-direction:column; align-items:center; justify-content:center; min-height:80vh; background: linear-gradient(120deg, #fffbe6 0%, #fbeee6 100%); position:relative; overflow:hidden;">
    <div style="width:100vw; max-width:700px; height:400px; margin:auto; position:relative; z-index:2;">
      <div id="padaria3d" style="width:100%; height:100%; background:transparent;"></div>
    </div>
    <div style="text-align:center; position:relative; z-index:3; margin-top:10px;">
      <h2 style="color:#d2691e; font-size:2.5em; margin-bottom:10px; font-family:'Pacifico',cursive; letter-spacing:2px;">Bem-vindo √† Padaria D Longhi!</h2>
      <p style="font-size:1.3em; color:#a0522d; margin-bottom:30px;">O melhor p√£o, bolo e carinho para voc√™.<br>Fa√ßa seu pedido de forma r√°pida e f√°cil!</p>
      <button id="btnIniciar" style="background:#d2691e; color:#fff; border:none; padding:18px 50px; font-size:1.5em; border-radius:15px; cursor:pointer; box-shadow:0 2px 12px #d2691e33; transition:background 0.2s; font-family:'Segoe UI',Arial,sans-serif;">Iniciar</button>
    </div>
  </div>
  <div class="container" id="pedidoSection" style="display:none;">
    <p>Escolha suas op√ß√µes e envie seu pedido pelo WhatsApp.</p>
    <div class="card">
      <h2>üç∞ Bolos</h2>
      <label for="peso">Peso:</label>
      <select id="peso">
        <option>1kg</option>
        <option>2kg</option>
        <option>3kg</option>
        <option>5kg</option>
      </select>
      <label>Recheios (escolha at√© 2):</label>
      <div id="recheios">
        <input type="checkbox" class="recheio-checkbox" value="Chocolate" id="chocolate">
        <label for="chocolate">Chocolate</label>
        <input type="checkbox" class="recheio-checkbox" value="Morango" id="morango">
        <label for="morango">Morango</label>
        <input type="checkbox" class="recheio-checkbox" value="Ninho" id="ninho">
        <label for="ninho">Ninho</label>
        <input type="checkbox" class="recheio-checkbox" value="Doce de Leite" id="doce">
        <label for="doce">Doce de Leite</label>
      </div>
      <button onclick="adicionarPedido()">Adicionar ao Carrinho</button>
    </div>
    <div class="card">
      <h2>üõí Carrinho</h2>
      <ul id="carrinho"></ul>
      <button onclick="enviarWhatsApp()">Enviar pelo WhatsApp</button>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
  <script>
    // Anima√ß√µes extras
    const style = document.createElement('style');
    style.innerHTML = `
      @keyframes float { 0% { transform: translateY(0); } 100% { transform: translateY(-20px); } }
      @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
      @keyframes bounce { 0% { transform: translateY(0); } 100% { transform: translateY(-30px); } }
      @keyframes shake { 0% { transform: rotate(-5deg); } 100% { transform: rotate(5deg); } }
    `;
    document.head.appendChild(style);

    // Padaria 3D
    function criarPadaria3D() {
      const container = document.getElementById('padaria3d');
      const scene = new THREE.Scene();
      scene.background = new THREE.Color(0xfffbe6);
      const camera = new THREE.PerspectiveCamera(60, container.offsetWidth/container.offsetHeight, 0.1, 1000);
      camera.position.set(0, 2, 8);

      const renderer = new THREE.WebGLRenderer({antialias:true, alpha:true});
      renderer.setSize(container.offsetWidth, container.offsetHeight);
      container.appendChild(renderer.domElement);

      // Ch√£o
      const floorGeometry = new THREE.PlaneGeometry(12, 8);
      const floorMaterial = new THREE.MeshPhongMaterial({color:0xfbeee6});
      const floor = new THREE.Mesh(floorGeometry, floorMaterial);
      floor.rotation.x = -Math.PI/2;
      floor.position.y = -1.5;
      scene.add(floor);

      // Estrutura da padaria (pr√©dio)
      const bakeryGeometry = new THREE.BoxGeometry(7, 3, 4);
      const bakeryMaterial = new THREE.MeshPhongMaterial({color:0xd2691e});
      const bakery = new THREE.Mesh(bakeryGeometry, bakeryMaterial);
      bakery.position.set(0, 0, 0);
      scene.add(bakery);

      // Porta
      const doorGeometry = new THREE.BoxGeometry(1, 1.5, 0.2);
      const doorMaterial = new THREE.MeshPhongMaterial({color:0x8b5a2b});
      const door = new THREE.Mesh(doorGeometry, doorMaterial);
      door.position.set(0, -0.75, 2.1);
      scene.add(door);

      // Janela
      const windowGeometry = new THREE.BoxGeometry(1.2, 0.8, 0.2);
      const windowMaterial = new THREE.MeshPhongMaterial({color:0xadd8e6, transparent:true, opacity:0.7});
      const window1 = new THREE.Mesh(windowGeometry, windowMaterial);
      window1.position.set(-2, 0.3, 2.1);
      scene.add(window1);
      const window2 = window1.clone();
      window2.position.set(2, 0.3, 2.1);
      scene.add(window2);

      // Letreiro
      const loader = new THREE.FontLoader();
      loader.load('https://threejs.org/examples/fonts/helvetiker_regular.typeface.json', function(font) {
        const textGeometry = new THREE.TextGeometry('Padaria D Longhi', {
          font: font,
          size: 0.5,
          height: 0.1,
        });
        const textMaterial = new THREE.MeshPhongMaterial({color:0xffe4b5});
        const textMesh = new THREE.Mesh(textGeometry, textMaterial);
        textMesh.position.set(-2.5, 1.2, 2.15);
        scene.add(textMesh);
      });

      // Pessoas (esferas coloridas)
      function criarPessoa(x, z, cor) {
        const body = new THREE.Mesh(new THREE.SphereGeometry(0.3, 32, 32), new THREE.MeshPhongMaterial({color:cor}));
        body.position.set(x, -1.2, z);
        scene.add(body);
        const head = new THREE.Mesh(new THREE.SphereGeometry(0.18, 32, 32), new THREE.MeshPhongMaterial({color:0xffe4b5}));
        head.position.set(x, -0.85, z);
        scene.add(head);
      }
      criarPessoa(-1.2, 2.5, 0x8b4513); // cliente
      criarPessoa(1.2, 2.5, 0xdeb887); // cliente
      criarPessoa(0, 1.2, 0xd2691e); // atendente

      // Ilumina√ß√£o
      const ambientLight = new THREE.AmbientLight(0xffffff, 0.7);
      scene.add(ambientLight);
      const directionalLight = new THREE.DirectionalLight(0xffe4b5, 1);
      directionalLight.position.set(5, 10, 7);
      scene.add(directionalLight);

      // Anima√ß√£o
      function animate() {
        bakery.rotation.y += 0.002;
        renderer.render(scene, camera);
        requestAnimationFrame(animate);
      }
      animate();
    }

    // L√≥gica para mostrar/esconder frontpage e pedidos
    document.addEventListener('DOMContentLoaded', function() {
      criarPadaria3D();
      document.getElementById('btnIniciar').onclick = function() {
        document.getElementById('frontpage').style.display = 'none';
        document.getElementById('pedidoSection').style.display = 'block';
      };

      // Permitir no m√°ximo 2 recheios
      document.querySelectorAll('.recheio-checkbox').forEach(cb => {
        cb.addEventListener('change', function() {
          const selecionados = document.querySelectorAll('.recheio-checkbox:checked');
          if (selecionados.length > 2) {
            this.checked = false;
            alert('Voc√™ pode escolher at√© 2 recheios.');
          }
        });
      });
    });

    let carrinho = [];

    function adicionarPedido() {
      const peso = document.getElementById('peso').value;
      const recheiosSelecionados = Array.from(document.querySelectorAll('.recheio-checkbox:checked')).map(cb => cb.value);
      if (recheiosSelecionados.length === 0) {
        alert('Selecione pelo menos 1 recheio.');
        return;
      }
      const pedido = `Bolo de ${recheiosSelecionados.join(' e ')} - ${peso}`;
      carrinho.push(pedido);
      atualizarCarrinho();
      // Limpar sele√ß√£o de recheios
      document.querySelectorAll('.recheio-checkbox').forEach(cb => cb.checked = false);
    }

    function atualizarCarrinho() {
      const lista = document.getElementById('carrinho');
      lista.innerHTML = "";
      carrinho.forEach(item => {
        const li = document.createElement('li');
        li.textContent = item;
        lista.appendChild(li);
      });
    }

    function enviarWhatsApp() {
      if (carrinho.length === 0) {
        alert("Seu carrinho est√° vazio.");
        return;
      }
      const mensagem = encodeURIComponent("üì¶ Meu pedido:\n" + carrinho.join("\n"));
      const numero = "5527997540041"; // seu n√∫mero com DDI e DDD
      window.open(`https://wa.me/${numero}?text=${mensagem}`, "_blank");
    }
  </script>
</body>
</html>
